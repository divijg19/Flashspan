version: 1

AppDir:
  path: src-tauri/target/release/bundle/app/Flashspan

  app_info:
    id: com.flashspan.ascentflash
    name: Ascent Flash
    icon: icon
    version: ${APPIMAGE_VERSION}
    exec: Flashspan

  runtime:
    env:
      # Required for WebKit stability inside AppImage
      WEBKIT_DISABLE_COMPOSITING_MODE: "1"
      WEBKIT_FORCE_SANDBOX: "0"

  files:
    include:
      - usr/bin/**
      - usr/lib/**
      - usr/share/**
    exclude:
      - usr/share/doc
      - usr/share/man
      - usr/share/locale

  apt:
    arch: amd64
    sources:
      - sourceline: "deb http://archive.ubuntu.com/ubuntu jammy main universe"
    include:
      - libgtk-3-0
      - libwebkit2gtk-4.1-0
      - libayatana-appindicator3-1
      - libsecret-1-0
      - libasound2
      - libdbus-1-3
      - libssl3
      - libx11-6
      - libxcomposite1
      - libxdamage1
      - libxrandr2
      - libxcb1
      - libxfixes3
      - libxkbcommon0
      - libdrm2
      - libgbm1
      - libglib2.0-0
      - libcairo2
      - libpango-1.0-0
      - libpangocairo-1.0-0
      - libatk1.0-0
      - libatspi2.0-0
      - libuuid1
      - zlib1g
      - ca-certificates

AppImage:
  arch: x86_64
  update-information: none
